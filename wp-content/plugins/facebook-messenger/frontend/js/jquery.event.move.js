!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e,t){function n(e){function t(e){i?(n(),b(t),a=!0,i=!1):a=!1}var n=e,i=!1,a=!1;this.kick=function(e){i=!0,a||t()},this.end=function(e){var t=n;e&&(a?(n=i?function(){t(),e()}:e,i=!0):e())}}function i(){return!0}function a(){return!1}function o(e){e.preventDefault()}function r(e){j[e.target.tagName.toLowerCase()]||e.preventDefault()}function u(e){return 1===e.which&&!e.ctrlKey&&!e.altKey}function c(e,t){var n,i;if(e.identifiedTouch)return e.identifiedTouch(t);for(n=-1,i=e.length;++n<i;)if(e[n].identifier===t)return e[n]}function d(e,t){var n=c(e.changedTouches,t.identifier);if(n&&(n.pageX!==t.pageX||n.pageY!==t.pageY))return n}function m(e){h(e,e.data,e,s)}function f(e){s()}function s(){R(document,C.move,m),R(document,C.cancel,f)}function v(e){var t=e.data,n=d(e,t);n&&h(e,t,n,p)}function g(e){var t=e.data;c(e.changedTouches,t.identifier)&&p(t.identifier)}function p(e){R(document,"."+e,v),R(document,"."+e,g)}function h(e,t,n,i){var a=n.pageX-t.startX,o=n.pageY-t.startY;a*a+o*o<D*D||Y(e,t,n,a,o,i)}function l(){return this._handled=i,!1}function X(e){e._handled()}function Y(e,t,n,i,a,o){var r,u;t.target;r=e.targetTouches,u=e.timeStamp-t.timeStamp,t.type="movestart",t.distX=i,t.distY=a,t.deltaX=i,t.deltaY=a,t.pageX=n.pageX,t.pageY=n.pageY,t.velocityX=i/u,t.velocityY=a/u,t.targetTouches=r,t.finger=r?r.length:1,t._handled=l,t._preventTouchmoveDefault=function(){e.preventDefault()},x(t.target,t),o(t.identifier)}function w(e){var t=e.data.event,n=e.data.timer;q(t,e,e.timeStamp,n)}function y(e){var t=e.data.event,n=e.data.timer;T(),A(t,n,function(){setTimeout(function(){R(t.target,"click",a)},0)})}function T(e){R(document,C.move,w),R(document,C.end,y)}function S(e){var t=e.data.event,n=e.data.timer,i=d(e,t);i&&(e.preventDefault(),t.targetTouches=e.targetTouches,q(t,i,e.timeStamp,n))}function k(e){var t=e.data.event,n=e.data.timer;c(e.changedTouches,t.identifier)&&(_(t),A(t,n))}function _(e){R(document,"."+e.identifier,S),R(document,"."+e.identifier,k)}function q(e,t,n,i){var a=n-e.timeStamp;e.type="move",e.distX=t.pageX-e.startX,e.distY=t.pageY-e.startY,e.deltaX=t.pageX-e.pageX,e.deltaY=t.pageY-e.pageY,e.velocityX=.3*e.velocityX+.7*e.deltaX/a,e.velocityY=.3*e.velocityY+.7*e.deltaY/a,e.pageX=t.pageX,e.pageY=t.pageY,i.kick()}function A(e,t,n){t.end(function(){return e.type="moveend",x(e.target,e),n&&n()})}var D=6,F=e.event.add,R=e.event.remove,x=function(t,n,i){e.event.trigger(n,i,t)},b=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){return window.setTimeout(function(){e()},25)},j={textarea:!0,input:!0,select:!0,button:!0},C={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},K={move:"touchmove",cancel:"touchend",end:"touchend"};e.event.special.movestart={setup:function(e,t,n){return F(this,"movestart.move",X),!0},teardown:function(e){return R(this,"dragstart drag",o),R(this,"mousedown touchstart",r),R(this,"movestart",X),!0},add:function(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(F(this,"dragstart."+e.guid+" drag."+e.guid,o,t,e.selector),F(this,"mousedown."+e.guid,r,t,e.selector))},remove:function(e){"move"!==e.namespace&&"moveend"!==e.namespace&&(R(this,"dragstart."+e.guid+" drag."+e.guid),R(this,"mousedown."+e.guid))},_default:function(e){var i,o;e._handled()&&(o={event:i={target:e.target,startX:e.startX,startY:e.startY,pageX:e.pageX,pageY:e.pageY,distX:e.distX,distY:e.distY,deltaX:e.deltaX,deltaY:e.deltaY,velocityX:e.velocityX,velocityY:e.velocityY,timeStamp:e.timeStamp,identifier:e.identifier,targetTouches:e.targetTouches,finger:e.finger},timer:new n(function(t){x(e.target,i)})},e.identifier===t?(F(e.target,"click",a),F(document,C.move,w,o),F(document,C.end,y,o)):(e._preventTouchmoveDefault(),F(document,K.move+"."+e.identifier,S,o),F(document,K.end+"."+e.identifier,k,o)))}},e.event.special.move={setup:function(){F(this,"movestart.move",e.noop)},teardown:function(){R(this,"movestart.move",e.noop)}},e.event.special.moveend={setup:function(){F(this,"movestart.moveend",e.noop)},teardown:function(){R(this,"movestart.moveend",e.noop)}},F(document,"mousedown.move",function(e){var t;u(e)&&(t={target:e.target,startX:e.pageX,startY:e.pageY,timeStamp:e.timeStamp},F(document,C.move,m,t),F(document,C.cancel,f,t))}),F(document,"touchstart.move",function(e){var t,n;j[e.target.tagName.toLowerCase()]||(n={target:(t=e.changedTouches[0]).target,startX:t.pageX,startY:t.pageY,timeStamp:e.timeStamp,identifier:t.identifier},F(document,K.move+"."+t.identifier,v,n),F(document,K.cancel+"."+t.identifier,g,n))}),"function"==typeof Array.prototype.indexOf&&function(e,t){for(var n=["changedTouches","targetTouches"],i=n.length;i--;)-1===e.event.props.indexOf(n[i])&&e.event.props.push(n[i])}(e)});